<%= form_with(model: product, local: true) do |form| %>
  <% if product.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(product.errors.count, "error") %> prohibited this product from being saved:</h2>

      <ul>
      <% product.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="row">
    <div class="form-group col-sm-6">
      <%= form.label :name, class: "col-sm-3 control-label" %>
      <div class="col-sm-9">
        <%= form.text_field :name, id: :product_name, class: "form-control" %>
      </div>
    </div>

    <div class="form-group col-sm-6" >
      <%= form.label :teaser, class: "col-sm-3 control-label" %>
      <div class="col-sm-9">
        <%= form.text_area :teaser, id: :product_teaser, rows:"4", class: "form-control"  %>
      </div>
    </div> 


    <div class="form-group col-sm-6">
      <%= form.label :description, class: "col-sm-3 control-label" %>
      <div class="col-sm-9">
        <%= form.text_area :description, id: :product_description, class: "form-control", rows:"10" %>
      </div>
    </div>

    <div class="form-group col-sm-6">
      <%= form.label :price, class: "col-sm-3 control-label" %>
      <div class="col-sm-9">
        <%= form.text_field :price, class: "form-control" %>
      </div>  
    </div>

    <div class="form-group col-sm-6">
      <%= form.label :colour, class: "col-sm-3 control-label" %>
      <div class="col-sm-9">
        <%= form.text_field :colour, class: "form-control" %>
      </div>  
    </div>

    <div class="form-group col-sm-6">
      <%= form.label :categorie_id, class: "col-sm-3 control-label" %>
      <div class="col-sm-9">
        <%= form.collection_select :categorie_id, Categorie.all, :id, :name, options = {:prompt => "Select a Categorie"}, html_options = { class: "form-control"} %>
      </div>
    </div>

    <div class="form-group col-sm-6">  
      <label class="col-xs-12 control-label">
        or create new categorie:
      </label>  
      <div class="col-xs-12">
        <%= form.text_field :new_categorie_name, class: "form-control" %>
      </div>
    </div>
  </div><!-- end of row -->  

  <div class="row" >
      <% if form.object.product_image? %>
        <div class="form-group col-sm-6" >
          <%= image_tag(product.product_image.thumb.url, class: "col-xs-6 col-sm-offset-3 form-image") %>
          <div class="form-check col-xs-12 col-sm-offset-3">
            <%= form.check_box :remove_product_image %>
            <%= form.label :remove_product_image, class: "form-check-label" %>
          </div>
        </div>   
      <% end %>
    <div class="form-group col-sm-6" >
      <%= form.label :product_image, class: "col-sm-3 control-label" %>
      <div class="col-sm-9">
        <label class="btn btn-default btn-file">
          Upload File
          <%= form.file_field :product_image %>
        </label>
      </div>
    </div>
  </div><!-- end of row -->
  
  <div class="row" >
    <div class="col-sm-12">
      <div class="actions form-group">  
          <%= button_tag(type: "submit", class: "btn btn-default btn-control-group") do %>
            <i class=" glyphicon glyphicon-ok"></i> Submit
          <% end %>
      </div>
    </div>
  </div><!-- end of row -->


<% end %>
